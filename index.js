import{a as w,S as q}from"./assets/vendor-D3cdi7O1.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))y(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&y(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function y(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();const M="51915317-a5ee9a5ba63d3f1e31a6123a4",B="https://pixabay.com/api/";async function P(e,n=1){try{return(await w.get(B,{params:{key:M,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:n}})).data}catch(o){return console.error("Помилка запиту до Pixabay API:",o),null}}const p=document.querySelector(".gallery"),h=document.querySelector(".loader"),g=document.querySelector(".load-more");let l;function v(e){const n=e.map(o=>`
      <li class="gallery-item">
        <a href="${o.largeImageURL}">
          <img src="${o.webformatURL}" alt="${o.tags}" loading="lazy" />
        </a>
        <p class="photo-caption">${o.tags}</p>
      </li>`).join("");p.insertAdjacentHTML("beforeend",n),l?l.refresh():l=new q(".gallery a",{captionsData:"alt",captionDelay:250})}function L(){p.innerHTML=""}function E(){h.style.display="inline-block"}function I(){h.style.display="none"}function A(){g.hidden=!1}function b(){g.hidden=!0}const H=document.querySelector(".form"),O=document.querySelector(".search-input"),c=document.querySelector(".load-more"),u=document.querySelector(".gallery");let d="",a=1,m=0,f=0,s=!1;H.addEventListener("submit",$);c.addEventListener("click",x);async function $(e){e.preventDefault(),d=O.value.trim(),d&&(L(),b(),a=1,f=0,await S())}async function x(){a+=1,await S()}async function S(){if(!s){s=!0,E(),c.disabled=!0;try{const e=await P(d,a);if(!e||e.hits.length===0){a===1&&(L(),u.insertAdjacentHTML("beforeend",'<li class="gallery-item no-results">Нічого не знайдено</li>'));return}v(e.hits),f+=e.hits.length,m=e.totalHits,f<m?A():b(),R()}catch(e){console.error(e)}finally{I(),c.disabled=!1,s=!1}}}function R(){if(!u.firstElementChild)return;const{height:e}=u.firstElementChild.getBoundingClientRect();window.scrollBy({top:e*2,behavior:"smooth"})}
//# sourceMappingURL=index.js.map
