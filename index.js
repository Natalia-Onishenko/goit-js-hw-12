import{a as S,S as M,i as n}from"./assets/vendor-5YrzWRhu.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))p(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&p(c)}).observe(document,{childList:!0,subtree:!0});function i(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function p(t){if(t.ep)return;t.ep=!0;const r=i(t);fetch(t.href,r)}})();const R="51915317-a5ee9a5ba63d3f1e31a6123a4",q="https://pixabay.com/api/";async function m(o,e=1){try{return(await S.get(q,{params:{key:R,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:e}})).data}catch(i){return console.error("Помилка запиту до Pixabay API:",i),null}}const l=document.querySelector(".gallery"),g=document.querySelector(".loader"),y=document.querySelector(".load-more");let d;function L(o){const e=o.map(i=>`
      <li class="gallery-item">
        <a href="${i.largeImageURL}">
          <img src="${i.webformatURL}" alt="${i.tags}" loading="lazy" />
        </a>
        <p class="caption">${i.tags}</p>
      </li>`).join("");l.insertAdjacentHTML("beforeend",e),d?d.refresh():d=new M(".gallery a",{captionsData:"alt",captionDelay:250})}function P(){l.innerHTML=""}function b(){g.hidden=!1}function h(){g.hidden=!0}function v(){y.hidden=!1}function w(){y.hidden=!0}function B(){if(!l.firstElementChild)return;const{height:o}=l.firstElementChild.getBoundingClientRect();window.scrollBy({top:o*2,behavior:"smooth"})}const E=document.querySelector("#search-form"),u=document.querySelector(".load-more");let s="",a=1,f=0;h();E.addEventListener("submit",O);u.addEventListener("click",x);async function O(o){if(o.preventDefault(),s=o.currentTarget.searchQuery.value.trim(),a=1,P(),w(),!s){n.warning({title:"Увага",message:"Введіть пошуковий запит!",position:"topRight"});return}try{b();const e=await m(s,a);if(!e||e.hits.length===0){n.info({title:"Немає результатів",message:"За вашим запитом нічого не знайдено.",position:"topRight"});return}f=e.totalHits,L(e.hits),f>15&&v()}catch{n.error({title:"Помилка",message:"Не вдалося завантажити зображення. Спробуйте пізніше.",position:"topRight"})}finally{h()}}async function x(){a+=1,b(),u.disabled=!0;try{const o=await m(s,a);L(o.hits),B();const e=Math.ceil(f/15);a>=e&&(w(),n.info({title:"Кінець",message:"Більше зображень немає.",position:"topRight"}))}catch{n.error({title:"Помилка",message:"Не вдалося завантажити більше зображень.",position:"topRight"})}finally{h(),u.disabled=!1}}
//# sourceMappingURL=index.js.map
