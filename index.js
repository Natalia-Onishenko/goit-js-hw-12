import{a as S,S as b,N as a}from"./assets/vendor-C_d0hmXj.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&d(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();const w="51915317-a5ee9a5ba63d3f1e31a6123a4",q="https://pixabay.com/api/";async function N(e,o=1){try{return(await S.get(q,{params:{key:w,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:o}})).data}catch(n){return console.error("Помилка запиту до Pixabay API:",n),null}}const h=document.querySelector(".gallery"),m=document.querySelector("#loader"),g=document.querySelector("#load-more");let s;function P(e){const o=e.map(n=>`
      <li class="gallery-item">
        <a href="${n.largeImageURL}">
          <img src="${n.webformatURL}" alt="${n.tags}" loading="lazy" />
        </a>
      </li>`).join("");h.insertAdjacentHTML("beforeend",o),s?s.refresh():s=new b(".gallery a",{captionsData:"alt",captionDelay:250})}function v(){h.innerHTML=""}function B(){m.hidden=!1}function E(){m.hidden=!0}function M(){g.hidden=!1}function p(){g.hidden=!0}const I=document.querySelector("#search-form"),x=document.querySelector("#load-more");let u="",i=1,y=0,f=0,c=!1;I.addEventListener("submit",O);x.addEventListener("click",A);async function O(e){if(e.preventDefault(),u=e.target.elements["search-input"].value.trim(),!u){a.Notify.info("Please enter a search query.");return}v(),p(),i=1,f=0,await L()}async function A(){i+=1,await L()}async function L(){if(!c){c=!0,B();try{const e=await N(u,i);if(!e||e.hits.length===0){a.Notify.failure("Sorry, no images found.");return}P(e.hits),f+=e.hits.length,y=e.totalHits,f<y?M():(p(),i>1&&a.Notify.info("You've reached the end of results.")),H()}catch(e){console.error(e),a.Notify.failure("Error loading images. Try again later.")}finally{E(),c=!1}}}function H(){const e=document.querySelector(".gallery");if(!e.firstElementChild)return;const{height:o}=e.firstElementChild.getBoundingClientRect();window.scrollBy({top:o*2,behavior:"smooth"})}
//# sourceMappingURL=index.js.map
